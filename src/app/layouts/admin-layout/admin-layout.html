<!-- Admin layout: sidebar + topbar + main -->
<div class="sira-admin">
  <aside class="sidenav" aria-label="Navigation principale">
    <div class="brand">
      <div class="logo" aria-hidden="true">SIRA</div>
      <div class="brand-caption">
        <strong>OVA</strong>
        <small>Backoffice</small>
      </div>
    </div>

    <nav class="nav">
      <ul>
        <li>
          <a routerLink="/dashboard" routerLinkActive="active" aria-current="page">
            🏠 {{ 'NAV.DASHBOARD' | translate }}
          </a>
        </li>
        <li>
          <a routerLink="/users" routerLinkActive="active">👥 {{ 'NAV.USERS' | translate }}</a>
        </li>
        <li>
          <a routerLink="/courses" routerLinkActive="active">📚 {{ 'NAV.COURSES' | translate }}</a>
        </li>
        <li>
          <a routerLink="/challenges" routerLinkActive="active"
            >🎯 {{ 'NAV.CHALLENGES' | translate }}</a
          >
        </li>
        <li>
          <a routerLink="/badges" routerLinkActive="active">🎖 {{ 'NAV.BADGES' | translate }}</a>
        </li>
        <li>
          <a routerLink="/reports" routerLinkActive="active">📈 {{ 'NAV.REPORTS' | translate }}</a>
        </li>
        <li>
          <a routerLink="/publications" routerLinkActive="active"
            >📝 {{ 'NAV.PUBLICATIONS' | translate }}</a
          >
        </li>
        <li>
          <a routerLink="/settings" routerLinkActive="active"
            >⚙️ {{ 'NAV.SETTINGS' | translate }}</a
          >
        </li>
      </ul>
    </nav>

    <div class="sidenav-footer">
      <button
        class="btn-flat"
        title="Se déconnecter"
        (click)="logout()"
        aria-label="Se déconnecter"
      >
        🔒 {{ 'NAV.LOGOUT' | translate }}
      </button>
    </div>
  </aside>

  <div class="main-area">
    <!-- TOPBAR FIXE -->
    <header class="topbar">
      <div class="topbar-left">
        <div class="datetime-section">
          <div class="current-date">{{ currentDate }}</div>
          <div class="current-time">{{ currentTime }}</div>
        </div>
      </div>

      <div class="topbar-right">
        <div class="user-section">
          <div class="user-avatar">
            {{ getUserInitials() }}
          </div>
          <div class="user-info">
            <div class="user-name">{{ getUserFullName() }}</div>
            <div class="user-role">{{ getUserRole() }}</div>
          </div>
        </div>
      </div>
    </header>

    <main class="content" role="main">
      <section class="page-header">
        <!-- Breadcrumb optionnel -->
        <div class="breadcrumb" *ngIf="showBreadcrumb">
          <span>Dashboard</span>
          <span class="separator">/</span>
          <span class="current">Page actuelle</span>
        </div>
      </section>

      <section class="page-body">
        <router-outlet></router-outlet>
      </section>

      <footer class="tiny-footer" aria-hidden="true">
        {{ 'FOOTER.COPYRIGHT' | translate : { year: currentYear } }}
      </footer>
    </main>
  </div>
</div>
