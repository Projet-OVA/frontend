<!-- Admin layout: sidebar + topbar + main -->
<input id="nav-toggle" class="nav-toggle" type="checkbox" aria-hidden="true" />

<div class="sira-admin">
  <aside class="sidenav" aria-label="Navigation principale">
    <div class="brand">
      <div class="logo" aria-hidden="true">SIRA</div>
      <div class="brand-caption">
        <strong>OVA</strong>
        <small>Backoffice</small>
      </div>
    </div>

    <nav class="nav">
      <ul>
        <li><a routerLink="/dashboard" routerLinkActive="active">🏠 {{ 'NAV.DASHBOARD' | translate }}</a></li>
        <li><a routerLink="/users" routerLinkActive="active">👥 {{ 'NAV.USERS' | translate }}</a></li>
        <li><a routerLink="/courses" routerLinkActive="active">📚 {{ 'NAV.COURSES' | translate }}</a></li>
        <li><a routerLink="/challenges" routerLinkActive="active">🎯 {{ 'NAV.CHALLENGES' | translate }}</a></li>
        <li><a routerLink="/badges" routerLinkActive="active">🎖 {{ 'NAV.BADGES' | translate }}</a></li>
        <li><a routerLink="/reports" routerLinkActive="active">📈 {{ 'NAV.REPORTS' | translate }}</a></li>
        <li><a routerLink="/publications" routerLinkActive="active">📝 {{ 'NAV.PUBLICATIONS' | translate }}</a></li>
        <li><a routerLink="/settings" routerLinkActive="active">⚙️ {{ 'NAV.SETTINGS' | translate }}</a></li>
      </ul>
    </nav>

    <div class="sidenav-footer">
      <button class="btn-flat" title="Se déconnecter" (click)="logout()">
        🔒 {{ 'NAV.LOGOUT' | translate }}
      </button>
    </div>
  </aside>

  <div class="main-area">
    <header class="topbar" role="banner">
      <label for="nav-toggle" class="hamburger" aria-hidden="true">
        <span></span><span></span><span></span>
      </label>

      <div class="topbar-left">
        <form class="search" role="search" (submit)="$event.preventDefault()">
          <input
            type="search"
            [placeholder]="'NAV.SEARCH_PLACEHOLDER' | translate"
            aria-label="Recherche"
            class="search-input"
          />
          <button class="btn-search" type="submit" [attr.aria-label]="'NAV.SEARCH_PLACEHOLDER' | translate">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <circle cx="11" cy="11" r="8"></circle>
              <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
            </svg>
          </button>
        </form>
      </div>

      <div class="topbar-right">
        <button class="icon-btn notifications-btn" [attr.title]="'NAV.NOTIFICATIONS' | translate" 
                [attr.aria-label]="'NAV.NOTIFICATIONS' | translate">
          <svg
            width="18"
            height="18"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
            <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
          </svg>
          <span class="notification-badge">3</span>
        </button>

        <div class="user-info" aria-haspopup="true">
          <div class="avatar" aria-hidden="true">
            <svg
              width="20"
              height="20"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
              <circle cx="12" cy="7" r="4"></circle>
            </svg>
          </div>
          <div class="user-name">
            <div class="name">{{ 'NAV.ADMIN' | translate }}</div>
            <div class="role">{{ 'NAV.SUPER_ADMIN' | translate }}</div>
          </div>
        </div>
      </div>
    </header>

    <main class="content" role="main">
      <section class="page-header">
        <ng-container *ngIf="false">
          <!-- si tu veux un breadcrumb -->
        </ng-container>
      </section>

      <section class="page-body">
        <router-outlet></router-outlet>
      </section>

      <footer class="tiny-footer" aria-hidden="true">
        {{ 'FOOTER.COPYRIGHT' | translate:{year: currentYear} }}
      </footer>
    </main>
  </div>
</div>