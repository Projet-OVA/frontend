<div class="reports-page">
  <div class="toolbar card">
    <div class="left">
      <select [(ngModel)]="reportType">
        <option value="users">Utilisateurs</option>
        <option value="contents">Contenus</option>
      </select>

      <input type="date" [(ngModel)]="from" />
      <input type="date" [(ngModel)]="to" />
      <button class="btn" (click)="load()">Afficher</button>
    </div>

    <div class="right">
      <button class="btn" (click)="export('csv')">Exporter CSV</button>
      <button class="btn" (click)="export('xlsx')">Exporter Excel</button>
    </div>
  </div>

  <div class="grid-two">
    <div class="card">
      <h3>Rapport: {{ reportType }}</h3>
      <table class="table">
        <thead>
          <tr>
            <th>Item</th>
            <th>Valeur</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let r of reports">
            <td>{{ r.title }}</td>
            <td>{{ r.value }}</td>
            <td><button class="btn-ghost">Détails</button></td>
          </tr>
          <tr *ngIf="!reports?.length">
            <td colspan="3">Aucun résultat</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="card">
      <h3>Visualisation</h3>
      <canvas id="chart-report" width="400" height="240"></canvas>
    </div>
  </div>
</div>
